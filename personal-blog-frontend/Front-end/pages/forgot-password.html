<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quên mật khẩu - Green&&Blue</title>
    <link rel="stylesheet" href="../styles/forgot-password.css">
</head>
<body>
    <div class="forgot-password-container">
        <!-- Step 1: Enter Email -->
        <div id="step1-email" class="step active">
            <div class="forgot-box">
                <div class="logo-forgot">
                    <a href="index.html"><img src="../assets/imgs/logo.png" alt="Logo" width="50px"></a>
                </div>
                
                <h1 class="forgot-title">Quên mật khẩu?</h1>
                <p class="forgot-subtitle">Nhập email của bạn để nhận mã xác nhận</p>
                
                <form id="emailForm" class="forgot-form">
                    <div class="input-group">
                        <input type="email" id="emailInput" placeholder="Nhập email của bạn" required>
                        <span class="input-icon">
                            <img src="../assets/imgs/user.png" alt="Email" width="20">
                        </span>
                        <span class="error-message" id="emailError"></span>
                    </div>
                    
                    <button type="submit" class="btn-submit">Gửi mã qua Email</button>
                </form>
                
                <div class="back-to-login">
                    <a href="login.html">← Quay lại Đăng nhập</a>
                </div>
            </div>
        </div>

        <!-- Step 2: Enter OTP Code -->
        <div id="step2-otp" class="step">
            <div class="forgot-box">
                <h1 class="forgot-title">Xác nhận mã</h1>
                <p class="forgot-subtitle" id="otpEmail"></p>
                
                <div class="timer-section">
                    <span class="timer" id="timer">60</span>
                    <span class="timer-text">giây</span>
                </div>
                
                <p class="otp-instruction">Nhập 6 chữ số mã xác nhận được gửi đến email của bạn</p>
                
                <form id="otpForm" class="forgot-form">
                    <div class="otp-inputs" id="otpInputs">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" inputmode="numeric">
                    </div>
                    
                    <span class="error-message" id="otpError"></span>
                    
                    <button type="submit" class="btn-submit">Xác nhận mã</button>
                </form>
                
                <div class="resend-code">
                    <p>Không nhận được mã? 
                        <a href="#" id="resendBtn" style="display: none;">Gửi lại mã</a>
                        <span id="resendWait"></span>
                    </p>
                </div>
                
                <div class="back-to-login">
                    <a href="login.html">← Quay lại Đăng nhập</a>
                </div>
            </div>
        </div>

        <!-- Step 3: Reset Password -->
        <div id="step3-reset" class="step">
            <div class="forgot-box">
                <h1 class="forgot-title">Đặt lại mật khẩu</h1>
                <p class="forgot-subtitle">Nhập mật khẩu mới của bạn</p>
                
                <form id="resetForm" class="forgot-form">
                    <div class="input-group">
                        <input type="password" id="newPassword" placeholder="Mật khẩu mới" required>
                        <span class="input-icon toggle-password" data-target="newPassword">
                            <img src="../assets/imgs/hidden.png" alt="Toggle" id="eyeIcon1" width="20">
                        </span>
                        <span class="error-message" id="passwordError"></span>
                    </div>
                    
                    <div class="input-group">
                        <input type="password" id="confirmPassword" placeholder="Xác nhận mật khẩu mới" required>
                        <span class="input-icon toggle-password" data-target="confirmPassword">
                            <img src="../assets/imgs/hidden.png" alt="Toggle" id="eyeIcon2" width="20">
                        </span>
                        <span class="error-message" id="confirmPasswordError"></span>
                    </div>
                    
                    <button type="submit" class="btn-submit">Thay đổi mật khẩu</button>
                </form>
                
                <div class="back-to-login">
                    <a href="login.html">← Quay lại Đăng nhập</a>
                </div>
            </div>
        </div>

        <!-- Success Message -->
        <div id="successMessage" class="success-message">
            <div class="success-box">
                <div class="success-icon">✓</div>
                <h2>Thay đổi mật khẩu thành công!</h2>
                <p>Bạn sẽ được chuyển hướng đến trang đăng nhập trong 3 giây...</p>
            </div>
        </div>
    </div>

    <script src="../scripts/forgot-password.js"></script>
</body>
</html>
